## 6.1	非连续内存分配的需求背景
 1. 为什么要设计非连续内存分配机制？
 ```
    提高内存的利用率和管理的灵活性
    允许一个程序使用非连续的物理地址空间
    允许共享代码与数据
    支持动态加载和动态链接
 ```

 1. 非连续内存分配中内存分块大小有哪些可能的选择？大小与大小是否可变?
``` 
   段式存储  大小可变
   页式存储  大小固定
```


 1. 为什么在大块时要设计大小可变，而在小块时要设计成固定大小？小块时的固定大小可以提供多种选择吗？
```
    小块固定可以更好的适配多种大块，大块可变具有更好的灵活性，小块的固定大小选择一般是固定的
```

## 6.2	段式存储管理
 1. 什么是段、段基址和段内偏移？
```
    段       表示访问方式和存储数据等属性相同的一段地址空间，对应一块连续的内存空间
    段基址    段描述符在段表的位置  
    段内偏移  字面意思 段内的偏移量
```
 1. 段式存储管理机制的地址转换流程是什么？为什么在段式存储管理中，各段的存储位置可以不连续？这种做法有什么好处和麻烦？
``` 
    地址转换流程：先用段号查进程段表的段描述符，通过段描述符找到段的起始地址，判断段内偏移是否小于段描述符中记录的段的大小，是则访问成功，否则访问异常。

    好处是程序分开管理，使各个段独立便于权限等级的设置，麻烦的是给操作系统带来的设计的麻烦
```

## 6.3	页式存储管理
 1. 什么是页（page）、帧（frame）、页表（page table）、存储管理单元（MMU）、快表（TLB, Translation Lookaside Buffer）和高速缓存（cache）？
 ``` 
    页 逻辑地址空间划分为大小相同的基本分配单元与帧的大小相同
    帧 把物理地址空间划分为大小相同的基本分配单位 2的幂次 4K常见
    页表 页帧的查找表 P => f   f+o => 帧
    存储管理单元 用于地址转换
    快表 页表专用缓存
    高速缓存 将频繁访问的数据单独存储，方便短时间的多次访问
 ```
 1. 页式存储管理机制的地址转换流程是什么？为什么在页式存储管理中，各页的存储位置可以不连续？这种做法有什么好处和麻烦？


## 6.4	页表概述
 1. 每个页表项有些什么内容？有哪些标志位？它们起什么作用？
```  
  页帧号 标志位 
  标志位：存在位 修改位 引用位
  存在位：是否有一个物理帧与他对应
  修改位：我对这个的内容是否修改
  引用位：指这个页面在过去的一段时间内是否访问过页面里的存储单元
```
 1. 页表大小受哪些因素影响？
 ```
    硬件的设计，操作系统的管理方式
 ```

## 6.5	快表和多级页表
 1. 快表（TLB）与高速缓存（cache）有什么不同？
``` 
    块表是页表的高速缓存
```
 1. 为什么快表中查找物理地址的速度非常快？它是如何实现的？为什么它的的容量很小？
 ```
    因为快表是放在CPU中的所以查找起来比较快，容量小是因为快表功耗大成本高所以容量小
 ```
 1. 什么是多级页表？多级页表中的地址转换流程是什么？多级页表有什么好处和麻烦？
```
    多级页表 将页表的查询转为多级查询，以减少页表的长度
    流程: 在第一级页号找到第二级的起始位置，加上第2级的偏移，找到第三级起始位置...加上页内偏移找到物理地址
    好处是减少了页表长度，坏处是多次内存访问
```
## 6.6	反置页表
 1. 页寄存器机制的地址转换流程是什么？
```
    对逻辑地址hash变换 在快表中查找对应页表 有冲突是遍历冲突项链表，查找失败产生异常
```
 1. 反置页表机制的地址转换流程是什么？
``` 
    将逻辑地址与进程号PID作hash，
    在索引表中找到反置表的位置，
    查看PID和逻辑页号是否一致，
    是则找到，否则跳转到next项所对应的反置表中查询
```
 1. 反置页表项有些什么内容？
```
    索引表用于查找的索引值
    进程号
    逻辑页号
    下一项的索引值
```
## 6.7	段页式存储管理
 1. 段页式存储管理机制的地址转换流程是什么？这种做法有什么好处和麻烦？
``` 
 流程：
     通过段号找到段表项，
     段表项是页表的基址加上页号找到对应的页表项，
     在页表项找到对应的物理页帧号
     加上偏移得到物理地址
 好处：结合了段机制和页机制的优点，使存储管理更加灵活
 麻烦: 增大了管理开销
```
 1. 如何实现基于段式存储管理的内存共享？
 ```
    通过指向相同的段基址实现共享
 ```
 1. 如何实现基于页式存储管理的内存共享？
```
    将同一个页表项插入到两个进程的页表中。
```
