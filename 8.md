## 视频相关思考题
### 8.1 虚拟存储的需求背景

1. 寄存器、高速缓存、内存、外存的访问特征？

```
按照速度 寄存器最快 高速缓存 内存 外存
按照容量 外存最大 内存 高速缓存 寄存器
```

2. 如何理解计算机中的存储层次结构所的理想状态是“均衡繁忙”状态？

```
让速度与容量并存
```

3. 在你写程序时遇到过内存不够的情况吗？尝试过什么解决方法？

```
排序的时候数据量比较大，将数据一段一段的取出来排序

```

### 8.2 覆盖和交换

1. 什么是覆盖技术？使用覆盖技术的程序开发者的主要工作是什么？

```
将程序分划分为不同的模块，必要的模块放在常住内存，可选的模块只有在用的时候放在内存
工作：人为地划分模块，以及组织分配
```

2. 什么是交换技术？覆盖与交换有什么不同？

```
在运行多道程序的时候，将一些进程暂停放在外存，将外存的某个进程放到内存执行，不同点在于交换的单元不同一个是程序内部模块，另一个是整个进程程序的地址空间，一个划分需要程序员划分，另一个是操作系统完成的。
```

3. 覆盖和交换技术在现代计算机系统中还有需要吗？可能用在什么地方？

```
覆盖基本没有，交换还有
```

4. 如何分析内核模块间的依赖关系？

```
编译
```

5. 如何获取内核模块间的函数调用列表？

```
编译的时候对代码分析

```

### 8.3 局部性原理

1. 什么是时间局部性、空间局部性和分支局部性？

```
时间：指令数据，在短时间内多次访问
空间：短时间内，会访问附近的指令数据
分支：由于循环，跳转会多次访问同一个内存

```

2. 如何提高程序执行时的局部性特征？

```
系统：访问内存的时候会将附近的数据一并缓存
程序：在访问数据的时候注意连续访存

```


3. 排序算法的局部性特征？
  * 参考：[九大排序算法再总结](http://blog.csdn.net/xiazdong/article/details/8462393)

### 8.4 虚拟存储概念

1. 什么是虚拟存储？它与覆盖和交换的区别是什么？它有什么好处和挑战？

```
虚拟存储：将一个进程按照段或者页来划分，每次只加载一部分页，若发生缺失则通过操作系统加载对应的物理页，再次执行。
区别：单位是进程的页或者段单位，不再是整个进程，也不是程序中人为划分的模块，好处是节约更多内存，挑战在于，硬件和操作系统的实现

```

2. 虚拟存储需要什么样的支持技术？

```
硬件：页式存储的地址转化
操作系统：管理内外存的换入换出

```

### 8.5 虚拟页式存储

 1. 什么是虚拟页式存储？缺页中断处理的功能是什么？

```
虚拟存储：交换单位为页
功能：当访问页表项时发现标志表示不存在，操作系统接管cpu后将页表对应项填上，标志位改为存在

```

 1. 为了支持虚拟页式存储的实现，页表项有什么修改？

```
修改：增加标志位：
驻留位：表示这一页是否在内存中
修改位：字面意思
访问位：标识是该页否访被问过，用于统计频率
保护位：表示页的访问方式

```

 2. 页式存储和虚拟页式存储的区别是什么？

```
区别在于页式存储局限于物理内存，虚拟页式存储在引进交换技术后有效的利用了外存
### 8.6 缺页异常

```

1. 缺页异常的处理流程？

```
访问某个页，查页表，比对标志位发现缺页，操作系统在外存中找到对应的页，填到物理内存的空闲页中，回填页表，修改标志位，重新执行异常指令，若找不到空闲的物理内存，那么找一个不常用的页，看是否修改过，若修改过则先将不常用的页写回外存，然后覆盖填写

```

2. 虚拟页式存储管理中有效存储访问时间是如何计算的？

```
EAT = 内存访问时间 \* 内存（1-缺页概率）+ 缺页异常处理时间 \* （缺页概率）\*（1+修改率）

```
